# Namecheap DNS Records for doggybagg.cc

Add these records in **Namecheap → Domain List → doggybagg.cc → Advanced DNS**.

---

## Mail Provider Audit (doggybagg.cc codebase)

**Scan of `lib/` and `app/`:** No Resend, SendGrid, Postmark, or custom SMTP imports.

**Email source:** All transactional email is sent by **Supabase Auth** (sign-up confirmation, magic links, password reset, onboarding).

**Where to confirm provider:** Supabase Dashboard → **Project Settings** → **Authentication** → **SMTP Settings**

- **Default:** Supabase's built-in (sends from `noreply@mail.app.supabase.io` or similar—not doggybagg.cc)
- **Custom SMTP:** If you've configured Resend, SendGrid, or SES in Supabase, use that provider's records below

**Action:** Check your Supabase SMTP config. If using Resend (common for Supabase custom domain), use the **Resend** records. If using default Supabase only, SPF/DKIM for doggybagg.cc may not apply until you configure custom SMTP with a doggybagg.cc sender.

---

## 1. SPF (Sender Policy Framework)

**Type:** TXT  
**Host:** `@` (or leave blank for root domain)  
**Value:**

```
v=spf1 include:_spf.google.com include:amazonses.com include:sendgrid.net include:resend.com ~all
```

**Customize:** Include only the services you use:
- **Supabase Auth emails:** Supabase uses Resend by default—keep `include:resend.com`
- **Custom transactional (Resend):** `include:resend.com`
- **Custom transactional (SendGrid):** `include:sendgrid.net`
- **Custom transactional (AWS SES):** `include:amazonses.com`
- **Gmail/Google Workspace:** `include:_spf.google.com`

**Minimal (Resend/Supabase only):**
```
v=spf1 include:resend.com ~all
```

**Note:** Only one SPF record per domain. Combine all includes in a single record.

---

## 2. DKIM (DomainKeys Identified Mail)

DKIM keys are **generated by your email provider**. Add the record they give you.

### Resend (Supabase default)

1. Resend Dashboard → Domains → Add doggybagg.cc
2. Copy the **DKIM records** (typically 3 CNAME records)
3. Add each in Namecheap:

**Example format (your values will differ):**

| Type | Host | Value |
|------|------|-------|
| CNAME | `resend._domainkey` | `resend._domainkey.resend.com` |

### SendGrid

1. SendGrid → Settings → Sender Authentication → Domain Authentication
2. Add doggybagg.cc and copy the CNAME records
3. Add each CNAME in Namecheap

### AWS SES

1. SES → Verified identities → doggybagg.cc → Publish DNS records
2. Add the CNAME records provided

---

## 3. DMARC (Policy)

**Type:** TXT  
**Host:** `_dmarc`  
**Value (monitor mode—recommended to start):**

```
v=DMARC1; p=none; rua=mailto:dmarc-reports@doggybagg.cc; ruf=mailto:dmarc-reports@doggybagg.cc; pct=100; adkim=r; aspf=r; fo=1
```

**Value (quarantine—stricter, after SPF/DKIM verified):**

```
v=DMARC1; p=quarantine; rua=mailto:dmarc-reports@doggybagg.cc; pct=100; adkim=r; aspf=r
```

**Value (reject—strictest):**

```
v=DMARC1; p=reject; rua=mailto:dmarc-reports@doggybagg.cc; pct=100; adkim=s; aspf=s
```

**Fields:**
- `p=none` → Monitor only (no action on fail)
- `p=quarantine` → Send failures to spam
- `p=reject` → Reject failures
- `rua` → Aggregate reports email (create dmarc-reports@ or use a real address)

---

## Verification Checklist

1. [ ] Add SPF TXT record (only one SPF per domain)
2. [ ] Add DKIM CNAME(s) from your email provider (Resend, SendGrid, SES, etc.)
3. [ ] Add DMARC TXT record at `_dmarc`
4. [ ] Wait 24–48 hours for DNS propagation
5. [ ] Send a test email to mail-tester.com and check score
6. [ ] Use `dig TXT doggybagg.cc` and `dig TXT _dmarc.doggybagg.cc` to verify

---

## Quick Copy (Minimal Setup)

| Type | Host | Value |
|------|------|-------|
| TXT | @ | `v=spf1 include:resend.com ~all` |
| TXT | _dmarc | `v=DMARC1; p=none; rua=mailto:admin@doggybagg.cc` |

Then add your provider’s DKIM CNAME records.
